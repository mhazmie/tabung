<% if (user) { %>
    <div class='modal fade' id='editProfileModal' tabindex='-1' aria-labelledby='editProfileModalLabel'
        aria-hidden='true'>
        <div class='modal-dialog'>
            <form method='POST' action='/user/profile/update' enctype='multipart/form-data'
                class='modal-content bg-dark'>
                <div class='modal-header'>
                    <h5 class='modal-title' id='editProfileModalLabel'>Edit Profile</h5>
                    <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>
                </div>
                <div class='modal-body'>
                    <div class='mb-3'>
                        <label for='edit-nickname' class='form-label'>Nickname</label>
                        <input type='text' name='nickname' class='form-control' id='edit-nickname'
                            value='<%= user.nickname %>' required>
                    </div>
                    <div class='mb-3'>
                        <label for='edit-password' class='form-label'>New Password (leave blank to keep current)</label>
                        <input type='password' name='password' class='form-control' id='edit-password'>
                    </div>
                    <div class='mb-3'>
                        <label for='edit-profile-pic' class='form-label'>Profile Picture</label>
                        <div class='form-text text-white-50'>
                            Max file size: 5MB. Allowed types: JPG, PNG, GIF.
                        </div>
                        <input type='file' name='profile_picture' class='form-control' id='edit-profile-pic'
                            accept='image/*'>
                    </div>
                </div>
                <div class='modal-footer'>
                    <button type='submit' class='btn btn-primary'>Save Changes</button>
                </div>
            </form>
        </div>
    </div>
    <script src='/js/edit_profile.js'></script>
    <% } %>